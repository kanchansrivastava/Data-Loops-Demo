
<ion-header>

  <ion-navbar>
    <ion-title>Result Demos</ion-title>
    <ion-buttons end>
      <button (click)="refresh()">
        <span *ngIf="!finished">Refreshing...</span>
        <span *ngIf="anyErrors">Error</span>
        <span *ngIf="finished && !anyErrors">Refresh</span>
        <ion-icon name="refresh" *ngIf="finished || anyErrors"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content class="results-overview-page">
  <div id="noForms" *ngIf="!forms" class="warning">No Forms Sync'd</div>
  <div padding>
    <h3>Summary</h3>
    <div id="formSummaries">
      <ion-grid>
        <ion-row>
          <ion-col width-75><strong>Form</strong></ion-col>
          <ion-col width-25><strong>Total Submissions</strong></ion-col>
        </ion-row>
        <ion-row *ngFor="let form of forms">
          <ion-col width-75>{{form.title}}</ion-col>
          <ion-col width-25>{{results[form.formid].length}}</ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <h3>Custom Visualisations</h3>
    <ion-list *ngFor="let customResult of customResults">
      <ion-item (click)="showResult(customResult.ResultPageName)">
        <ion-thumbnail item-left>
          <img src="{{customResult.ImageSrc}}">
        </ion-thumbnail>
        <h2>{{customResult.Name}}</h2>
        <p>{{customResult.Description}}</p>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
